<!DOCTYPE html>
<html>

<head>
  <title>SSE Client</title>
</head>

<body>
  <!-- div element, every message will be printed here -->
  <div id='content'></div>

  <script>
    // create EventSource from http://localhost:3000/events
    const sse = new EventSource('http://localhost:3000/events');
  
    // callback when connection opened
    sse.onopen = (e) => {
      document.getElementById('content').innerHTML += 'Connected to the server.<br/>';
    };
    
    // use this callback if you to recieve all messages regardless of the event type
    sse.onmessage = (e) => {
      document.getElementById('content').innerHTML += e.data + '<br/>';
    };

    // use this callback if you only want to recieve message from 'myevent' event type
    // sse.addEventListener('myevent', (e) => {
    //   document.getElementById('content').innerHTML += e.data + '<br/>';
    // });
    
    // callback when connection error occured
    sse.onerror = (e) => {
      document.getElementById('content').innerHTML += 'An error occured.<br/>';
    };
  </script>
</body>

</html>